---
layout: post
status: publish
published: true
title: Как перевести сайт на Битрикс с кодировки win1251 в UTF-8
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
wordpress_id: 47999
wordpress_url: http://devdocs.ru/?p=47999
date: '2016-08-08 15:58:50 +0200'
date_gmt: '2016-08-08 15:58:50 +0200'
categories:
- PHP
- 1С-Битрикс
tags:
- php
- bitrix
- htaccess
- битрикс
comments: []
---
<p>Общий порядок действий:</p>
<p>1. Перекодировать всю базу данных в UTF-8 (вероятнее всего придётся обращаться за помощью к администратору сервера).</p>
<p>2. Перекодировать все файлы сайта в UTF-8 (можно сделать своими силами).</p>
<p>3. В файл &#47;bitrix&#47;php_interface&#47;dbconn.php добавить строки:</p>
<pre><code>define("BX_UTF", true);<&#47;code><&#47;pre><br />
4. В файл &#47;.htaccess добавить строки:</p>
<pre><code>php_value mbstring.func_overload 2<br />
php_value mbstring.internal_encoding UTF-8<&#47;code><&#47;pre><br />
Перекодировать все файлы сайта в UTF-8 (второй пункт) можно выполнив команду через SSH в корневой папке сайта:</p>
<pre><code>find . -name '*.php' -type f -exec iconv -fcp1251 -tutf8 -o &#47;tmp&#47;tmp_file {} \; -exec mv &#47;tmp&#47;tmp_file {} \;<&#47;code><&#47;pre></p>
