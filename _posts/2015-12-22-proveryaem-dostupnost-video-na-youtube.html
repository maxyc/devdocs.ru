---
layout: post
status: publish
published: true
title: Проверяем доступность видео на Youtube
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
excerpt: "Часто нам нужно вывести на своем сайте видео по прямой ссылке с ютуба. В
  этом нет ничего хитрого, но иногда нам нужно предварительно убедиться, что видео
  доступно, не удалено, не закрыто и т.д. В общем, что его действительно можно показать
  на сайте\r\n<h3>Пишем функцию определения доступности видео с ютуба<&#47;h3>\r\n"
wordpress_id: 47957
wordpress_url: http://devdocs.ru/?p=47957
date: '2015-12-22 17:16:47 +0200'
date_gmt: '2015-12-22 17:16:47 +0200'
categories:
- PHP
tags:
- php
- video
- js
- youtube
- orm
comments: []
---
<p>Часто нам нужно вывести на своем сайте видео по прямой ссылке с ютуба. В этом нет ничего хитрого, но иногда нам нужно предварительно убедиться, что видео доступно, не удалено, не закрыто и т.д. В общем, что его действительно можно показать на сайте</p>
<h3>Пишем функцию определения доступности видео с ютуба<&#47;h3><br />
<a id="more"></a><a id="more-47957"></a>Делается это достаточно просто. Все, что нам нужно - это знать id видео на ютубе</p>
<pre><code>function isAvailableVideo($videoId) {<br />
    $headers = get_headers('http:&#47;&#47;www.youtube.com&#47;oembed?url=http:&#47;&#47;www.youtube.com&#47;watch?v='.$videoId.'&amp;format=json');<br />
    return (substr($headers[0], 9, 3) !== '404');<br />
} <&#47;code><&#47;pre><br />
Все. Можно пользоваться. Если видео доступно и открывается, то функция возвратит на true, можно показывать на сайте. Если false, значит, с видео что-то не то. Имеет смысл в этом случае предусмотреть заглушку в виде картинки или вообще не выводить ничего. Это уже зависит от Ваших задач и фантазии.</p>
