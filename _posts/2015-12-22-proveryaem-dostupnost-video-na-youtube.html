---
layout: post
status: publish
published: true
title: Проверяем доступность видео на Youtube
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
excerpt: "Часто нам нужно вывести на своем сайте видео по прямой ссылке с ютуба. В
  этом нет ничего хитрого, но иногда нам нужно предварительно убедиться, что видео
  доступно, не удалено, не закрыто и т.д. Пишем функцию определения доступности видео с ютуба"
wordpress_id: 47957
wordpress_url: http://devdocs.ru/?p=47957
date: '2015-12-22 17:16:47 +0200'
date_gmt: '2015-12-22 17:16:47 +0200'
categories:
- PHP
tags:
- php
- video
- js
- youtube
- orm
comments: []
---
<p>Часто нам нужно вывести на своем сайте видео по прямой ссылке с ютуба. В этом нет ничего хитрого, но иногда нам нужно предварительно убедиться, что видео доступно, не удалено, не закрыто и т.д.</p>
<h2>Пишем функцию определения доступности видео с ютуба</h2>
<p>Делается это достаточно просто. Все, что нам нужно - это знать id видео на ютубе</p>
<pre><code>function isAvailableVideo($videoId) {
    $headers = get_headers('http://www.youtube.com/oembed?url=http://www.youtube.com/watch?v='.$videoId.'&amp;format=json');
    return (substr($headers[0], 9, 3) !== '404');
} </code></pre>
<p>Все. Можно пользоваться. Если видео доступно и открывается, то функция возвратит на true, можно показывать на сайте. Если false, значит, с видео что-то не то. Имеет смысл в этом случае предусмотреть заглушку в виде картинки или вообще не выводить ничего. Это уже зависит от Ваших задач и фантазии.</p>
